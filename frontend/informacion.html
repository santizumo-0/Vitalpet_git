<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VitalPet - Mi Perfil</title>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(to bottom, #c8e9ea 0%, #a8d8d9 100%);
      min-height: 100vh;
      padding-bottom: 30px;
    }

    /* Navegaci√≥n superior */
    .nav-container {
      background-color: white;
      border-radius: 30px;
      padding: 30px 60px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 700px;
      margin: 20px auto;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 20px;
      z-index: 999;
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-icon {
      width: 100px;
      height: 80px;
      background-color: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-icon img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .nav-links {
      display: flex;
      gap: 25px;
      align-items: center;
    }

    .nav-link {
      color: #333;
      text-decoration: none;
      font-size: 15px;
    }

    .cta-button {
      background-color: #ff6b35;
      color: white;
      padding: 8px 20px;
      border-radius: 20px;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      white-space: nowrap;
    }

    /* User Profile Icon and Dropdown */
    .user-profile-container {
      position: relative;
      display: flex;
      align-items: center;
    }

    .user-profile-icon {
      width: 40px;
      height: 40px;
      background-color: #4fc3f7;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 20px;
      cursor: pointer;
      transition: background-color 0.3s;
      border: 2px solid #29b6f6;
    }

    .user-profile-icon:hover {
      background-color: #29b6f6;
    }

    .profile-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      min-width: 200px;
      display: none;
      z-index: 1000;
      margin-top: 10px;
      overflow: hidden;
    }

    .profile-dropdown.active {
      display: block;
    }

    .profile-dropdown-item {
      padding: 12px 20px;
      border: none;
      background: none;
      width: 100%;
      text-align: left;
      cursor: pointer;
      font-size: 14px;
      color: #333;
      transition: background-color 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }

    .profile-dropdown-item:hover {
      background-color: #f5f5f5;
    }

    .profile-dropdown-item:first-child {
      border-bottom: 1px solid #eee;
    }

    /* Contenedor principal */
    .main-container {
      max-width: 1000px;
      margin: 30px auto;
      padding: 0 20px;
    }

    h1 {
      color: #1e3a5f;
      margin-bottom: 15px;
    }

    /* Tabs */
    .tabs-container {
      display: flex;
      gap: 0;
      margin: 20px 0 20px 0;
      border-bottom: 3px solid #e0e0e0;
      max-width: 100%;
      overflow-x: auto;
    }

    .tab-button {
      padding: 15px 30px;
      background: none;
      border: none;
      border-bottom: 3px solid transparent;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      color: #999;
      transition: all 0.3s;
      white-space: nowrap;
    }

    .tab-button.active {
      color: #4a9ea3;
      border-bottom-color: #4a9ea3;
    }

    .tab-button:hover {
      color: #4a9ea3;
    }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    /* Header mascota */
    .pet-header {
      background-color: white;
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      margin-bottom: 30px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    }

    .photo-upload-container {
      position: relative;
      width: 150px;
      height: 150px;
      margin: 0 auto 30px;
    }

    .photo-circle {
      width: 150px;
      height: 150px;
      border: 3px solid #6ab5b9;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      overflow: hidden;
      background-color: #f5f5f5;
      position: relative;
    }

    .photo-circle img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .photo-placeholder {
      color: #999;
      font-size: 16px;
    }

    .photo-upload-input { display: none; }

    .pet-name-input {
      font-size: 28px;
      font-weight: 600;
      color: #4a9ea3;
      border: none;
      text-align: center;
      background-color: transparent;
      width: 100%;
      margin-bottom: 10px;
      outline: none;
      border-bottom: 2px solid transparent;
      transition: border-color 0.3s;
    }

    .pet-name-input:focus {
      border-bottom-color: #4a9ea3;
    }

    .pet-details {
      display: flex;
      justify-content: center;
      gap: 30px;
      color: #888;
      font-size: 14px;
    }

    .pet-details input {
      border: none;
      background: transparent;
      color: #888;
      font-size: 14px;
      text-align: center;
      width: 120px;
      outline: none;
      border-bottom: 1px solid transparent;
      transition: border-color 0.3s;
    }

    .pet-details input:focus {
      border-bottom-color: #888;
    }

    /* Grid secciones */
    .sections-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }

    .section-card {
      background-color: white;
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .section-icon {
      font-size: 24px;
    }

    .section-title {
      color: #4a9ea3;
      font-size: 18px;
      font-weight: 700;
    }

    .section-title.emergency { color: #ff6b9d; }

    .form-row {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 15px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-label {
      font-size: 11px;
      color: #999;
      margin-bottom: 5px;
      text-transform: uppercase;
      font-weight: 700;
    }

    .form-input {
      padding: 10px 12px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 14px;
      color: #333;
      outline: none;
      transition: border-color 0.3s;
      background-color: white;
    }

    .form-input:focus { border-color: #4a9ea3; }

    /* Salud */
    .health-section { grid-column: span 2; }

    .vaccine-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }

    .checkbox-custom {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #e0e0e0;
      flex-shrink: 0;
    }

    .checkbox-custom.checked {
      background-color: #4a9ea3;
      border-color: #4a9ea3;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .checkbox-custom.checked::after {
      content: "‚úì";
      color: white;
      font-size: 16px;
      font-weight: 900;
    }

    .checkbox-custom.alert {
      background-color: #ff6b9d;
      border-color: #ff6b9d;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .checkbox-custom.alert::after {
      content: "!";
      color: white;
      font-size: 16px;
      font-weight: 900;
    }

    .vaccine-input {
      flex: 1;
      padding: 8px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 13px;
      outline: none;
    }

    .vaccine-input:focus { border-color: #4a9ea3; }

    .date-input {
      padding: 8px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 13px;
      outline: none;
    }

    .date-input:focus { border-color: #4a9ea3; }

    .subsection-title {
      color: #999;
      font-size: 12px;
      margin: 15px 0 10px;
      text-transform: uppercase;
      font-weight: 700;
    }

    .btn-add {
      background: #4a9ea3;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 10px;
      font-size: 14px;
      font-weight: 700;
      transition: 0.2s;
    }

    .btn-add:hover { background: #3d8387; }

    /* Galer√≠a */
    .gallery-section {
      background-color: white;
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    }

    .gallery-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .gallery-title {
      color: #4a9ea3;
      font-size: 18px;
      font-weight: 700;
    }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
    }

    .gallery-item {
      position: relative;
      aspect-ratio: 1;
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      background-color: #f5f5f5;
      border: 2px dashed #d0d0d0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      color: #aaa;
      font-size: 40px;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Guardar */
    .save-button {
      background-color: #ff6b35;
      color: white;
      padding: 15px 60px;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 800;
      cursor: pointer;
      display: block;
      margin: 30px auto;
      transition: 0.2s;
      box-shadow: 0 3px 10px rgba(0,0,0,0.15);
    }

    .save-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(255,107,53,0.25);
    }

    /* Compras y Reservas */
    .empty-message {
      text-align: center;
      color: #999;
      padding: 40px 20px;
      font-size: 16px;
      background: rgba(255,255,255,0.6);
      border-radius: 16px;
    }

    @media (max-width: 768px) {
      .sections-grid { grid-template-columns: 1fr; }
      .health-section { grid-column: span 1; }
      .gallery-grid { grid-template-columns: repeat(2, 1fr); }
      .form-row { grid-template-columns: 1fr; }
      .nav-container { padding: 20px 25px; }
    }
  </style>
</head>

<body>
  <!-- Navegaci√≥n -->
  <div class="nav-container">
    <div class="logo-section">
      <div class="logo-icon">
        <img src="logo.jpeg" alt="VitalPet Logo">
      </div>
    </div>

    <div class="nav-links">
      <a href="inicio.html" class="nav-link">Inicio</a>
      <a href="servicios.html" class="nav-link">Servicios</a>
      <a href="calendario.html" class="cta-button">Agenda Tu Cita</a>

      <div id="user-profile" class="user-profile-container">
        <div class="user-profile-icon" id="profileIcon">üë§</div>

        <div class="profile-dropdown" id="profileDropdown">
          <a href="informacion.html" class="profile-dropdown-item">üë§ Mi Perfil</a>
          <button id="logout-btn" class="profile-dropdown-item" type="button">üö™ Cerrar sesi√≥n</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Contenedor principal -->
  <div class="main-container">
    <h1>Mi Perfil</h1>

    <!-- Tabs -->
    <div class="tabs-container">
      <button class="tab-button active" data-tab="mascota">Mi Mascota</button>
      <button class="tab-button" data-tab="compras">Mis Compras</button>
      <button class="tab-button" data-tab="reservas">Mis Reservas</button>
    </div>

    <!-- TAB 1: MI MASCOTA -->
    <div class="tab-content active" id="tab-mascota">

      <form id="petProfileForm">
        <!-- Foto y nombre -->
        <div class="pet-header">
          <div class="photo-upload-container">
            <label for="petPhotoUpload" class="photo-circle" id="photoCircle">
              <span class="photo-placeholder" id="photoPlaceholder">Foto</span>
              <img id="petPhotoPreview" src="" alt="" style="display:none;">
            </label>
            <input type="file" id="petPhotoUpload" name="pet_photo" class="photo-upload-input" accept="image/*">
          </div>

          <input id="petName" name="pet_name" type="text" class="pet-name-input" placeholder="Nombre de la mascota" required>

          <div class="pet-details">
            <input id="petBreed" name="pet_breed" type="text" placeholder="Raza">
            <input id="petAge" name="pet_age" type="text" placeholder="Edad">
          </div>
        </div>

        <!-- Grid -->
        <div class="sections-grid">

          <!-- Due√±o -->
          <div class="section-card">
            <div class="section-header">
              <span class="section-icon"></span>
              <h3 class="section-title">Informaci√≥n del Due√±o</h3>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="ownerName">Nombre Completo</label>
                <input id="ownerName" name="owner_name" type="text" class="form-input" placeholder="Nombre del due√±o" required>
              </div>
              <div class="form-group">
                <label class="form-label" for="ownerPhone">Tel√©fono</label>
                <input id="ownerPhone" name="owner_phone" type="tel" class="form-input" placeholder="+57 300 123 4567" required>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="ownerEmail">Email</label>
                <input id="ownerEmail" name="owner_email" type="email" class="form-input" placeholder="correo@ejemplo.com" required>
              </div>
              <div class="form-group">
                <label class="form-label" for="ownerAddress">Direcci√≥n</label>
                <input id="ownerAddress" name="owner_address" type="text" class="form-input" placeholder="Direcci√≥n completa">
              </div>
            </div>
          </div>

          <!-- Emergencia -->
          <div class="section-card">
            <div class="section-header">
              <span class="section-icon"></span>
              <h3 class="section-title emergency">Contacto de Emergencia</h3>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="emergencyName">Nombre</label>
                <input id="emergencyName" name="emergency_name" type="text" class="form-input" placeholder="Contacto emergencia">
              </div>
              <div class="form-group">
                <label class="form-label" for="emergencyPhone">Tel√©fono</label>
                <input id="emergencyPhone" name="emergency_phone" type="tel" class="form-input" placeholder="+57 300 123 4567">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="vetName">Veterinario</label>
                <input id="vetName" name="vet_name" type="text" class="form-input" placeholder="Nombre del veterinario">
              </div>
              <div class="form-group">
                <label class="form-label" for="vetPhone">Tel. Veterinario</label>
                <input id="vetPhone" name="vet_phone" type="tel" class="form-input" placeholder="+57 300 123 4567">
              </div>
            </div>
          </div>

          <!-- General -->
          <div class="section-card">
            <div class="section-header">
              <span class="section-icon"></span>
              <h3 class="section-title">Informaci√≥n General</h3>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="petSpecies">Especie</label>
                <input id="petSpecies" name="pet_species" type="text" class="form-input" placeholder="Perro / Gato">
              </div>
              <div class="form-group">
                <label class="form-label" for="petSex">Sexo</label>
                <input id="petSex" name="pet_sex" type="text" class="form-input" placeholder="Macho / Hembra">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="petColor">Color</label>
                <input id="petColor" name="pet_color" type="text" class="form-input" placeholder="Color">
              </div>
              <div class="form-group">
                <label class="form-label" for="petWeight">Peso</label>
                <input id="petWeight" name="pet_weight" type="text" class="form-input" placeholder="Ej: 12 kg">
              </div>
            </div>
          </div>

          <!-- Alimentaci√≥n -->
          <div class="section-card">
            <div class="section-header">
              <span class="section-icon"></span>
              <h3 class="section-title">Alimentaci√≥n</h3>
            </div>

            <div class="form-group" style="margin-bottom: 15px;">
              <label class="form-label" for="foodType">Tipo de Comida</label>
              <input id="foodType" name="food_type" type="text" class="form-input" placeholder="Tipo de comida">
            </div>

            <div class="form-group" style="margin-bottom: 15px;">
              <label class="form-label" for="foodPortions">Porciones por D√≠a</label>
              <input id="foodPortions" name="food_portions" type="text" class="form-input" placeholder="Cantidad de porciones">
            </div>

            <div class="subsection-title">Horarios:</div>

            <div class="vaccine-item">
              <div class="checkbox-custom checked"></div>
              <input id="breakfastTime" name="breakfast_time" type="time" class="date-input">
              <span style="color:#999; font-size: 13px;">Desayuno</span>
            </div>

            <div class="vaccine-item">
              <div class="checkbox-custom checked"></div>
              <input id="dinnerTime" name="dinner_time" type="time" class="date-input">
              <span style="color:#999; font-size: 13px;">Cena</span>
            </div>
          </div>

          <!-- Salud -->
          <div class="section-card health-section">
            <div class="section-header">
              <span class="section-icon"></span>
              <h3 class="section-title">Salud</h3>
            </div>

            <div class="subsection-title">Vacunas Aplicadas:</div>
            <div id="vacunasList"></div>
            <button id="btnAddVaccine" type="button" class="btn-add">+ Agregar Vacuna</button>

            <div class="subsection-title" style="margin-top: 20px;">Pr√≥ximas Vacunas:</div>
            <div id="proximasVacunasList"></div>
            <button id="btnAddNextVaccine" type="button" class="btn-add">+ Agregar Pr√≥xima Vacuna</button>

            <div class="subsection-title">Alergias:</div>
            <div class="vaccine-item">
              <div class="checkbox-custom alert"></div>
              <input id="petAllergies" name="pet_allergies" type="text" class="form-input" placeholder="Alergia o ninguna" style="flex: 1;">
            </div>

            <div class="subsection-title">Enfermedades:</div>
            <div class="vaccine-item">
              <div class="checkbox-custom alert"></div>
              <input id="petDiseases" name="pet_diseases" type="text" class="form-input" placeholder="Enfermedad o ninguna" style="flex: 1;">
            </div>

            <div class="subsection-title" style="margin-top: 20px;">√öltima Visita al Veterinario</div>
            <input id="lastVetVisit" name="last_vet_visit" type="date" class="date-input" style="width: 100%;">
          </div>
        </div>

        <!-- Galer√≠a -->
        <div class="gallery-section">
          <div class="gallery-header">
            <span class="section-icon"></span>
            <h3 class="gallery-title">Galer√≠a de Fotos</h3>
          </div>

          <input id="galleryUpload" name="gallery_photos" type="file" accept="image/*" multiple style="display:none;">

          <div class="gallery-grid" id="galleryGrid">
            <div class="gallery-item" id="galleryAdd">+</div>
          </div>
        </div>

        <button class="save-button" id="btnSaveProfile" type="submit">Guardar</button>
      </form>
    </div>

    <!-- TAB 2 -->
    <div class="tab-content" id="tab-compras">
      <div id="comprasList" class="empty-message">
        A√∫n no tienes compras registradas.
      </div>
    </div>

    <!-- TAB 3 -->
    <div class="tab-content" id="tab-reservas">
      <div id="reservasList" class="empty-message">
        A√∫n no tienes reservas registradas.
      </div>
    </div>
  </div>

  <!-- JS m√≠nimo (solo tabs, dropdown, preview foto, galer√≠a) -->
  <script>
    // Tabs
    const tabButtons = document.querySelectorAll(".tab-button");
    const tabMascota = document.getElementById("tab-mascota");
    const tabCompras = document.getElementById("tab-compras");
    const tabReservas = document.getElementById("tab-reservas");

    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        tabButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        tabMascota.classList.remove("active");
        tabCompras.classList.remove("active");
        tabReservas.classList.remove("active");

        if (btn.dataset.tab === "mascota") tabMascota.classList.add("active");
        if (btn.dataset.tab === "compras") tabCompras.classList.add("active");
        if (btn.dataset.tab === "reservas") tabReservas.classList.add("active");
      });
    });

    // Dropdown perfil
    const profileIcon = document.getElementById("profileIcon");
    const profileDropdown = document.getElementById("profileDropdown");

    profileIcon.addEventListener("click", (e) => {
      e.stopPropagation();
      profileDropdown.classList.toggle("active");
    });

    document.addEventListener("click", () => {
      profileDropdown.classList.remove("active");
    });

    // Preview foto mascota
    const petPhotoUpload = document.getElementById("petPhotoUpload");
    const petPhotoPreview = document.getElementById("petPhotoPreview");
    const photoPlaceholder = document.getElementById("photoPlaceholder");

    petPhotoUpload.addEventListener("change", () => {
      const file = petPhotoUpload.files[0];
      if (!file) return;

      const url = URL.createObjectURL(file);
      petPhotoPreview.src = url;
      petPhotoPreview.style.display = "block";
      photoPlaceholder.style.display = "none";
    });

    // Galer√≠a (solo preview visual)
    const galleryAdd = document.getElementById("galleryAdd");
    const galleryUpload = document.getElementById("galleryUpload");
    const galleryGrid = document.getElementById("galleryGrid");

    galleryAdd.addEventListener("click", () => {
      galleryUpload.click();
    });

    galleryUpload.addEventListener("change", () => {
      const files = Array.from(galleryUpload.files);
      files.forEach(file => {
        const url = URL.createObjectURL(file);

        const div = document.createElement("div");
        div.className = "gallery-item";

        const img = document.createElement("img");
        img.src = url;

        div.appendChild(img);
        galleryGrid.insertBefore(div, galleryAdd);
      });
    });

    // Submit (por ahora no hace nada, luego se conecta con backend)
    document.getElementById("petProfileForm").addEventListener("submit", (e) => {
      e.preventDefault();
      alert("Perfil listo. Luego conectamos esto al backend.");
    });
  </script>
</body>
</html>
